<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>I Trance</title>

<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

#gate, #control {
  position: fixed;
  inset: 0;
  background: black;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: sans-serif;
  font-size: 2rem;
  z-index: 10;
}

#control {
  flex-direction: column;
  gap: 1rem;
  display: none;
}

#screen {
  position: fixed;
  inset: 0;
  background: black;
}
</style>
</head>

<body>

<div id="gate">Tap to enter the trance</div>

<div id="control">
  <button id="start">Start Performance</button>
</div>

<div id="screen"></div>

<audio id="audio" src="Get Together.mp3"></audio>

<script>
const params = new URLSearchParams(location.search);
const isControl = params.get("control") === "true";

const gate = document.getElementById("gate");
const control = document.getElementById("control");
const screen = document.getElementById("screen");
const audio = document.getElementById("audio");

let armed = false;
let strobeInterval = null;

/* ---------*
